<!DOCTYPE html>
<html>
<head>
	<title></title>
	
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready( function() {

	$("#line").hide()

	var refreshIntervalId;
	restart();

	function animate() {
		var random_width = 40 + Math.floor ( Math.random() * 20 )
		var new_width = random_width + "%"
		$("#black").animate({
			width: new_width
		}, 500 );
	}

	function restart() {
		$("#line").hide()
		$("#black").text("")
		refreshIntervalId = setInterval( animate, 500 );
	}

	function show_score_and_restart() {
		 $("#black").stop();
	     clearInterval(refreshIntervalId);
	     setTimeout( restart, 2000 )
	     var score = Math.round ( $("#black").width() / $(window).width() * 100 )
	     if(score!=50) {
	     	$("#black").html("off by " + Math.abs(50-score))
	     	$("#line").show()
	     }
	     else if (score==50) $("#black").text("✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨")
	}

	$(document).keydown(function( event ) {
		  if ( event.which == 32 ) { //space key
		     event.preventDefault();
		     show_score_and_restart()
		  }
		})

	// $(document).click(function() {
	// 	event.preventDefault();
	// 	show_score_and_restart()
	// })

	$(document).on('click touchstart', function () {
		// event.preventDefault();
		show_score_and_restart()
	})


})
</script>

<style type="text/css">
	html, body {
	  height: 100%;
	  margin: 0;
	  padding: 0;
	}
	body {
		overflow:hidden;
	}
	#black, #white {
		height: 100%;
		margin: 0;
		padding: 0;
	}
	#black {
		display: inline-block;
		background-color: #FEF536;
		width: 50%;
		color: white;
		font-size: 4rem;
		font-family: Helvetica, sans-serif;
	}
	#white {
		background: white;
		width: 50%;
	}
	#line {
		position:absolute;
		left: 50%;
		width:1px;
		background-color:red;
		height:100%;
		z-index: 100;
	}
</style>

</head>
<body>
<!-- <div id="wrapper"> -->
	<div id="line"></div>
	<div id="black"></div>
	<div id="white"></div>
<!-- </div> -->

</body>
</html>